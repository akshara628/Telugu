<!DOCTYPE html>
<html lang="te">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Telugu Blends Learning & Practice</title>
<style>
  body {
    font-family: "Noto Sans Telugu", "Gautami", Arial, sans-serif;
    background-color: #fffaf2;
    color: #222;
    padding: 20px;
  }
  h1, h2 {
    text-align: center;
    color: #b22222;
  }
  p {
    text-align: center;
    font-size: 1.1em;
  }
  table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 20px;
    font-size: 1.2em;
  }
  th, td {
    border: 1px solid #ccc;
    text-align: center;
    padding: 8px;
    vertical-align: middle;
  }
  th {
    background-color: #ffe4b5;
  }
  td {
    background-color: #fff8dc;
  }
  td span {
    cursor: pointer;
    color: #b22222;
    font-weight: bold;
    display: block;
  }
  td .roman {
    font-size: 0.8em;
    color: green;
  }
  td span:hover {
    color: #ff6600;
    text-decoration: underline;
  }
  #practiceArea {
    margin-top: 30px;
    text-align: center;
    background: #fdf3d5;
    border: 2px solid #f0c06d;
    border-radius: 10px;
    padding: 15px;
  }
  #feedback {
    font-size: 1.3em;
    margin-top: 10px;
    font-weight: bold;
  }
  button {
    background: #ffb347;
    color: #222;
    border: none;
    border-radius: 8px;
    padding: 10px 20px;
    font-size: 1.1em;
    cursor: pointer;
  }
  button:hover {
    background: #ff9800;
  }
</style>
</head>
<body>

<h1>‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å ‡∞∏‡∞Ç‡∞Ø‡±Å‡∞ï‡±ç‡∞§‡∞æ‡∞ï‡±ç‡∞∑‡∞∞‡∞æ‡∞≤‡±Å (Blends) + ‡∞Ö‡∞ö‡±ç‡∞ö‡±Å‡∞≤‡±Å</h1>
<p>Click any blend to hear pronunciation üîä (Telugu or English)</p>

<table id="blendTable">
  <tr>
    <th>‡∞¨‡±ç‡∞≤‡±Ü‡∞Ç‡∞°‡±ç</th>
    <th>+ ‡∞Ö</th>
    <th>+ ‡∞Ü</th>
    <th>+ ‡∞á</th>
    <th>+ ‡∞à</th>
    <th>+ ‡∞â</th>
    <th>+ ‡∞ä</th>
    <th>+ ‡∞é</th>
    <th>+ ‡∞è</th>
    <th>+ ‡∞ê</th>
    <th>+ ‡∞í</th>
    <th>+ ‡∞ì</th>
    <th>+ ‡∞î</th>
  </tr>
</table>

<div id="practiceArea">
  <h2>üéØ Practice Mode</h2>
  <p>Click ‚ÄúPlay Sound‚Äù and select the correct Telugu blend!</p>
  <button onclick="startPractice()">‚ñ∂Ô∏è Play Sound</button>
  <div id="feedback"></div>
</div>

<script>
const vowels = ["‡∞Ö","‡∞Ü","‡∞á","‡∞à","‡∞â","‡∞ä","‡∞é","‡∞è","‡∞ê","‡∞í","‡∞ì","‡∞î"];
const vowelSigns = ["","‡∞æ","‡∞ø","‡±Ä","‡±Å","‡±Ç","‡±Ü","‡±á","‡±à","‡±ä","‡±ã","‡±å"];
const romanVowels = ["a","aa","i","ee","u","oo","e","e","ai","o","o","au"];

// 100+ blends (common Telugu consonant clusters)
const blends = {
  // basic r-based blends
  "‡∞ï‡±ç‡∞∞": "kr","‡∞ñ‡±ç‡∞∞": "khr","‡∞ó‡±ç‡∞∞": "gr","‡∞ò‡±ç‡∞∞": "ghr","‡∞ö‡±ç‡∞∞": "chr","‡∞ú‡±ç‡∞∞": "jr","‡∞ù‡±ç‡∞∞": "jhr",
  "‡∞ü‡±ç‡∞∞": "tr","‡∞†‡±ç‡∞∞": "thr","‡∞°‡±ç‡∞∞": "dr","‡∞¢‡±ç‡∞∞": "dhr","‡∞§‡±ç‡∞∞": "thr","‡∞•‡±ç‡∞∞": "thhr","‡∞¶‡±ç‡∞∞": "dr",
  "‡∞ß‡±ç‡∞∞": "dhr","‡∞™‡±ç‡∞∞": "pr","‡∞´‡±ç‡∞∞": "phr","‡∞¨‡±ç‡∞∞": "br","‡∞≠‡±ç‡∞∞": "bhr","‡∞Æ‡±ç‡∞∞": "mr",
  "‡∞Ø‡±ç‡∞∞": "yr","‡∞∞‡±ç‡∞∞": "rr","‡∞≤‡±ç‡∞∞": "lr","‡∞µ‡±ç‡∞∞": "vr","‡∞∂‡±ç‡∞∞": "shr","‡∞∑‡±ç‡∞∞": "shhr","‡∞∏‡±ç‡∞∞": "sr","‡∞π‡±ç‡∞∞": "hr",

  // ya-based blends
  "‡∞ï‡±ç‡∞Ø": "kya","‡∞ñ‡±ç‡∞Ø": "khya","‡∞ó‡±ç‡∞Ø": "gya","‡∞ò‡±ç‡∞Ø": "ghya","‡∞ö‡±ç‡∞Ø": "chya","‡∞ú‡±ç‡∞Ø": "jya","‡∞ù‡±ç‡∞Ø": "jhya",
  "‡∞ü‡±ç‡∞Ø": "tya","‡∞°‡±ç‡∞Ø": "dya","‡∞§‡Øç‡ÆØ": "tya","‡∞¶‡Øç‡ÆØ": "dya","‡∞®‡±ç‡∞Ø": "nya","‡∞™‡±ç‡∞Ø": "pya","‡∞´‡±ç‡∞Ø": "phya",
  "‡∞¨‡±ç‡∞Ø": "bya","‡∞≠‡±ç‡∞Ø": "bhya","‡∞Æ‡±ç‡∞Ø": "mya","‡∞µ‡±ç‡∞Ø": "vya","‡∞∂‡±ç‡∞Ø": "shya","‡∞∏‡±ç‡∞Ø": "sya","‡∞π‡±ç‡∞Ø": "hya",

  // va-based blends
  "‡∞ï‡±ç‡∞µ": "kva","‡∞ñ‡±ç‡∞µ": "khva","‡∞ó‡±ç‡∞µ": "gva","‡∞ò‡±ç‡∞µ": "ghva","‡∞ö‡±ç‡∞µ": "chva","‡∞ú‡±ç‡∞µ": "jva",
  "‡∞ü‡±ç‡∞µ": "tva","‡∞°‡±ç‡∞µ": "dva","‡∞¶‡±ç‡∞µ": "dva","‡∞ß‡±ç‡∞µ": "dhva","‡∞™‡±ç‡∞µ": "pva","‡∞´‡±ç‡∞µ": "phva",
  "‡∞¨‡±ç‡∞µ": "bva","‡∞≠‡±ç‡∞µ": "bhva","‡∞Æ‡±ç‡∞µ": "mva","‡∞∂‡±ç‡∞µ": "shva","‡∞∏‡±ç‡∞µ": "sva","‡∞π‡±ç‡∞µ": "hva",

  // la-based
  "‡∞ï‡±ç‡∞≤": "kla","‡∞ó‡±ç‡∞≤": "gla","‡∞™‡±ç‡∞≤": "pla","‡∞¨‡±ç‡∞≤": "bla","‡∞´‡±ç‡∞≤": "phla","‡∞Æ‡±ç‡∞≤": "mla","‡∞µ‡±ç‡∞≤": "vla","‡∞∂‡±ç‡∞≤": "shla","‡∞∏‡±ç‡∞≤": "sla",

  // compound special blends
  "‡∞ï‡±ç‡∞∑": "ksha","‡∞ú‡±ç‡∞û": "jna","‡∞π‡±ç‡∞Æ": "hma","‡∞∏‡±ç‡∞Æ": "sma","‡∞ï‡±ç‡∞ü": "kta","‡∞ó‡±ç‡∞®": "gna","‡∞¶‡±ç‡∞≠": "dbha","‡∞¶‡±ç‡∞µ‡±ç‡∞Ø": "dvya","‡∞∂‡±ç‡∞∞‡±ç‡∞Ø": "shry",
  "‡∞§‡±ç‡∞∞‡±ç‡∞Ø": "try","‡∞ß‡±ç‡∞Ø": "dhya","‡∞ß‡±ç‡∞Ø‡±ç‡∞∞": "dhry","‡∞™‡±ç‡∞∞‡±ç‡∞Ø": "pry","‡∞ó‡±ç‡∞∞‡±ç‡∞Ø": "gry","‡∞¨‡±ç‡∞∞‡±ç‡∞Ø": "bry","‡∞ï‡±ç‡∞∞‡±ç‡∞Ø": "kry","‡∞∂‡±ç‡∞∞‡±ç‡∞µ": "shrva"
};

const table = document.getElementById("blendTable");
const allCombos = [];
let voices = [];

function loadVoices() {
  voices = window.speechSynthesis.getVoices();
  if (!voices.length) {
    window.speechSynthesis.onvoiceschanged = () => {
      voices = window.speechSynthesis.getVoices();
    };
  }
}

loadVoices();

// Build table dynamically
Object.entries(blends).forEach(([blend, romanBase]) => {
  const row = document.createElement("tr");
  const first = document.createElement("td");
  first.textContent = blend;
  row.appendChild(first);

  vowels.forEach((vowel, i) => {
    const td = document.createElement("td");
    const combo = blend + vowelSigns[i];
    const romanCombo = romanBase + romanVowels[i];
    allCombos.push({ combo, roman: romanCombo });
    const span = document.createElement("span");
    span.textContent = combo;
    span.onclick = () => speakTelugu(combo, romanCombo);
    const small = document.createElement("div");
    small.className = "roman";
    small.textContent = romanCombo;
    td.appendChild(span);
    td.appendChild(small);
    row.appendChild(td);
  });
  table.appendChild(row);
});

// Speak Telugu voice with fallback
function speakTelugu(text, roman){
  window.speechSynthesis.cancel();
  const utter = new SpeechSynthesisUtterance(text);
let teVoice = voices.find(v => v.lang === "te-IN");
if (teVoice) {
  utter.voice = teVoice;
  utter.lang = "te-IN";
  utter.text = text;  // speak actual Telugu text
} else {
  console.warn("‚ö†Ô∏è Telugu voice not found. Please install Telugu (India) voice in system settings.");
  utter.voice = null;
  utter.lang = "te-IN";
  utter.text = text; // still try Telugu
}

  window.speechSynthesis.speak(utter);
}

// === PRACTICE MODE ===
let currentAnswer = null;
function startPractice(){
  document.getElementById("feedback").textContent = "";
  const random = allCombos[Math.floor(Math.random() * allCombos.length)];
  currentAnswer = random.combo;
  speakTelugu(random.combo, random.roman);
}
function handleClick(chosen){
  const feedback = document.getElementById("feedback");
  if (!currentAnswer) return;
  if (chosen === currentAnswer){
    feedback.textContent = "‚úÖ Correct! " + chosen;
    feedback.style.color = "green";
    setTimeout(startPractice, 1500);
  } else {
    feedback.textContent = "‚ùå Try again!";
    feedback.style.color = "red";
  }
}
</script>

</body>
</html>
